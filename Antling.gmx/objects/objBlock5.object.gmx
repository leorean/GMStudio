<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>mskBlock5</spriteName>
  <solid>-1</solid>
  <visible>-1</visible>
  <depth>1</depth>
  <persistent>0</persistent>
  <parentName>objBlock</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>mask_index = mskBlock;
type = 5;

xVel = 0;
yVel = 0;
yGrav = .15;

canExplode = false;
explode = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>yVel += yGrav;

px = ((x+TILE/2) div TILE) * TILE;
py = ((y+TILE/2) div TILE) * TILE;

if (y &gt; room_height) instance_destroy();

if (!canExplode)
{

    inReach = instance_exists(objPlayer) &amp;&amp; objPlayer.bbox_left &gt;= x &amp;&amp; objPlayer.bbox_right &lt;= (x+TILE)
        &amp;&amp; in(objPlayer.y,y,y+TILE);
    if (!place_meeting(x,y+TILE,objLiving) &amp;&amp; !place_meeting(x,y+yVel+1,objSolid)
       &amp;&amp; !inReach)
        canExplode = true;
}
   
if (canExplode &amp;&amp; place_free(x,y+yVel) &amp;&amp; !place_meeting(x,y+yVel,objBlockTemp))
{
    y += yVel;
}
else
{
    //explode only if not on soft ground/balloon
    if (!place_meeting(x,y+yVel,objBlock1) &amp;&amp; !place_meeting(x,y+yVel,objBlock3) &amp;&amp; canExplode)
        explode = true;
    yVel = 0;
}

if (explode)
{
    e = instance_place(px,py,objEffectDust);
    if (!instance_exists(e) || (instance_exists(e) &amp;&amp; e.type != 1))
    {
        e = instance_create(px-TILE,py-TILE,objEffectDust); e.type = 1; e.timer = 20;
        e = instance_create(px+TILE,py-TILE,objEffectDust); e.type = 1; e.timer = 20;
        e = instance_create(px-TILE,py+TILE,objEffectDust); e.type = 1; e.timer = 20;
        e = instance_create(px+TILE,py+TILE,objEffectDust); e.type = 1; e.timer = 20;
        
        e = instance_create(px-TILE,py,objEffectDust); e.type = 1; e.timer = 10;
        e = instance_create(px+TILE,py,objEffectDust); e.type = 1; e.timer = 10;
        e = instance_create(px,py-TILE,objEffectDust); e.type = 1; e.timer = 10;
        e = instance_create(px,py+TILE,objEffectDust); e.type = 1; e.timer = 10;

        e = instance_create(px,py,objEffectDust); e.type = 1; e.timer = 0;

        /*
        for (i = -1; i &lt; 2; i++)
            for (j = -1; j &lt; 2; j++)
            {
                e = instance_create(px+i*TILE,py+j*TILE,objEffectDust);
                e.type = 1;
            }*/
        instance_destroy();
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_sprite_part(sprGfx,-1,type*TILE,0,TILE,TILE,x,y);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>8,8</point>
  </PhysicsShapePoints>
</object>
