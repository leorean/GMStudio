<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprTrapShotMask</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_speed = 0;
if (!variable_local_exists("grp"))
    grp = 0;
if (!variable_local_exists("dir"))
    dir = LEFT;

if (!variable_local_exists("t"))
    t = 2*FPS;

active = false;

depth = BLOCKDEPTH-1;

state = IDLE;

//grp = ??
//dir = ??
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>shooting cooldown</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>cx = x+TILE/2;
cy = y+TILE/2;

//ON-SIGHT SHOOTING IF NO GROUP IS SELECTED
d = 12*TILE;
if (!alarm[0] &amp;&amp; objPlayer.state != DEAD)
{
    switch(dir)
    {
        case UP:
            if (collision_rectangle(x-TILE/2,y+TILE,x+1.5*TILE,y-d,objPlayer,true,true))
            active = true;
        break;
        case DOWN:
            if (collision_rectangle(x-TILE/2,y,x+1.5*TILE,y+TILE+d,objPlayer,true,true))
            active = true;
        break;
        case LEFT:
            if (collision_rectangle(x-d,y,x+1.5*TILE,y+TILE,objPlayer,true,true))
            active = true;
        break;
        case RIGHT:
            if (collision_rectangle(x-TILE/2,y,x+TILE+d,y+TILE,objPlayer,true,true))
            active = true;
        break;
    }

}
if (!alarm[0] &amp;&amp; active)
{
    for (i = 0; i &lt; 20; i+= 1)
    {
        if (dir == LEFT || dir == RIGHT)
        {
            p = instance_create(cx-sign(dir)*4,cy+4,objParticlePee);
            p.xVel = sign(dir)*4-sign(dir)*i/32*.995+random(.01);
            p.yVel = -i/24;
        } else if (dir == UP)
        {
            p = instance_create(cx-1,cy,objParticlePee);
            p.xVel = -.1+random(.2);
            p.yVel = -1-i/10;
        } else if (dir == DOWN)
        {
            p = instance_create(cx-1,cy-1,objParticlePee);
            p.xVel = -.1+random(.2);
            p.yVel = i/10;
        }
        p.wait = i/4;
    }

    active = false;
    alarm[0] = t;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>frame = 0;

if (dir == UP)
    frame = 0;
if (dir == DOWN)
    frame = 1;
if (dir == RIGHT)
    frame = 2;
if (dir == LEFT)
    frame = 3;

if (dir == LEFT || dir == RIGHT)
    draw_sprite_part(global.sprGfx,-1,frame*TILE,9*TILE+(alarm[0]&gt;t-10)*TILE,TILE,TILE,x-sign(dir)*TILE/2,y);
if (dir == UP)
    draw_sprite_part(global.sprGfx,-1,frame*TILE,9*TILE+(alarm[0]&gt;t-10)*TILE,TILE,TILE,x,y+TILE/2);
if (dir == DOWN)
    draw_sprite_part(global.sprGfx,-1,frame*TILE,9*TILE+(alarm[0]&gt;t-10)*TILE,TILE,TILE,x,y-TILE/2);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
