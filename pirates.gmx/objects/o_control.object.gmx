<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>sky[0] = sprite_add("bg_sky1.png",0,false,false,0,0);
sky_a[0] = 1;

sky[1] = sprite_add("bg_sky2.png",0,false,false,0,0);
sky_a[1] = 1;

sky[2] = sprite_add("bg_sky3.png",0,false,false,0,0);
sky_a[2] = 1;

sky[3] = sprite_add("bg_sky4.png",0,false,false,0,0);
sky_a[3] = 1;

sky[4] = sprite_add("bg_space.png",0,false,false,0,0);
sky_a[4] = 1;

b = 128; //bounds for instance management

spawn_x = 0;
spawn_y = 0;

//parameters for shop!
instances = 7; //number of active instances


deathline = room_height;

// region altitudes
r1_altitude  = -0;
r2_altitude = -2000;
r3_altitude = -5000;
r4_altitude = -7000;
max_altitude = -10000;


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (o_player.altitude &lt;= r1_altitude)
{
    sky_a[0] = (max(0, (abs(o_player.altitude) - abs(r1_altitude)) / (abs(r2_altitude) - abs(r1_altitude))) );

    if (sky_a[0] != 0)
        sky_a[0] = 1 - sky_a[0];
}
else
    sky_a[0] = 1;

    
if (o_player.altitude &lt;= r2_altitude)
{
    sky_a[1] = (max(0, (abs(o_player.altitude) - abs(r2_altitude)) / (abs(r3_altitude) - abs(r2_altitude))) );
    
    if (sky_a[1] != 0)
        sky_a[1] = 1 - sky_a[1];
}
else
    sky_a[1] = 1;

if (o_player.altitude &lt;= r3_altitude)
{
    sky_a[2] = (max(0, (abs(o_player.altitude) - abs(r3_altitude)) / (abs(r4_altitude) - abs(r3_altitude))) );
    
    if (sky_a[2] != 0)
        sky_a[2] = 1 - sky_a[2];
}
else
    sky_a[2] = 1;

if (o_player.altitude &lt;= r4_altitude)
{
    sky_a[3] = (max(0, (abs(o_player.altitude) - abs(r4_altitude)) / (abs(max_altitude) - abs(r4_altitude))) );
    
    if (sky_a[3] != 0)
        sky_a[3] = 1 - sky_a[3];
}
else
    sky_a[3] = 1;


if (sky_a[0] &lt; 0)
    sky_a[0] = 0;
if (sky_a[0] &gt; 1)
    sky_a[0] = 1;

if (sky_a[1] &lt; 0)
    sky_a[1] = 0;
if (sky_a[1] &gt; 1)
    sky_a[1] = 1;

if (sky_a[2] &lt; 0)
    sky_a[2] = 0;
if (sky_a[2] &gt; 1)
    sky_a[2] = 1;

if (sky_a[3] &lt; 0)
    sky_a[3] = 0;
if (sky_a[3] &gt; 1)
    sky_a[3] = 1;

//bg_space_alpha = max(0, (abs(o_player.altitude) - abs(r2_altitude)) / (abs(max_altitude) - abs(r2_altitude)));

//secretly follow the player along.
x = o_player.x;
y = o_player.y;

// if camera goes up, spawn new stuff. (TODO: spawn different stuff depending on current height)
if (o_player.y &lt; view_yview[0] + abs(o_player.vspeed) + view_hview[0]/2)
{
    view_yview[0] -= abs(o_player.vspeed);
    deathline = view_yview[0]+view_hview[0] + 128;
    
    tmp = random(room_width);
    spawn_x = tmp - (tmp mod TILE);
        
    tmp = view_yview[0] - TILE - abs(o_player.vspeed) - random(view_hview[0]*2);
    spawn_y = tmp - (tmp mod TILE);

    nearest = instance_nearest(x,y, o_block);
    
    if (instance_number(o_block) &lt; instances)
        instance_create(spawn_x,spawn_y, o_block); 
    
}

//move camera down a bit so it doesnt get too hard.
if ((o_player.y &gt; view_yview[0] + view_hview[0] - abs(o_player.vspeed) - 64) &amp;&amp; (view_yview[0] + view_hview[0] &lt; deathline - abs(o_player.vspeed)))
{
    if (o_player.state != IDLE)
        view_yview[0] += abs(o_player.vspeed);
}

if (o_player.y &gt; deathline)
    game_restart();

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>depth = 100;
/*
draw_sprite_ext(sky[4],0,view_xview[0],view_yview[0] - (view_yview[0] mod view_hview[0]),1,1,0,c_white,sky_a[4]);
draw_sprite_ext(sky[4],0,view_xview[0],view_yview[0] - (view_yview[0] mod view_hview[0]) - view_hview[0],1,1,0,c_white,sky_a[4]);

draw_sprite_ext(sky[3],0,view_xview[0],view_yview[0] - (view_yview[0] mod view_hview[0]),1,1,0,c_white,sky_a[3]);
draw_sprite_ext(sky[3],0,view_xview[0],view_yview[0] - (view_yview[0] mod view_hview[0]) - view_hview[0],1,1,0,c_white,sky_a[3]);

draw_sprite_ext(sky[2],0,view_xview[0],view_yview[0] - (view_yview[0] mod view_hview[0]),1,1,0,c_white,sky_a[2]);
draw_sprite_ext(sky[2],0,view_xview[0],view_yview[0] - (view_yview[0] mod view_hview[0]) - view_hview[0],1,1,0,c_white,sky_a[2]);

draw_sprite_ext(sky[1],0,view_xview[0],view_yview[0] - (view_yview[0] mod view_hview[0]),1,1,0,c_white,sky_a[1]);
draw_sprite_ext(sky[1],0,view_xview[0],view_yview[0] - (view_yview[0] mod view_hview[0]) - view_hview[0],1,1,0,c_white,sky_a[1]);

draw_sprite_ext(sky[0],0,view_xview[0],view_yview[0] - (view_yview[0] mod view_hview[0]),1,1,0,c_white,sky_a[0]);
draw_sprite_ext(sky[0],0,view_xview[0],view_yview[0] - (view_yview[0] mod view_hview[0]) - view_hview[0],1,1,0,c_white,sky_a[0]);
*/
depth = -100;

draw_set_font(font);
draw_set_halign(fa_left);
//str = string(sky_a[0]) + string(";") + string(sky_a[1]);
//draw_text_outline(str,view_xview[0]+16,view_yview[0]+8,c_white,c_black);


draw_set_halign(fa_right);
draw_text_outline(abs(o_player.altitude),view_xview[0]+view_wview[0]-16,view_yview[0]+8,c_white,c_black);

depth = 100;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
